{"ast":null,"code":"import _objectSpread from\"/home/papa/planner-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/papa/planner-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TimerWidget(){var _useState=useState({time:0,isRunning:false}),_useState2=_slicedToArray(_useState,2),timerListData=_useState2[0],setTimerListData=_useState2[1];var tidyTime=function tidyTime(time){var hours=Math.floor(time/3600);var minutes=Math.floor((time-hours*3600)/60);var seconds=time-hours*3600-minutes*60;if(hours<10){hours=\"0\"+hours;}if(minutes<10){minutes=\"0\"+minutes;}if(seconds<10){seconds=\"0\"+seconds;}return hours+':'+minutes+':'+seconds;};useEffect(function(){// timer logic\nvar interval=null;if(timerListData.isRunning&&timerListData.time>0){interval=setInterval(function(){setTimerListData(_objectSpread(_objectSpread({},timerListData),{},{time:parseInt(timerListData.time)-1}));},1000);}else if(!timerListData.isRunning&&timerListData.time!==0){setTimerListData(_objectSpread(_objectSpread({},timerListData),{},{isRunning:false}));clearInterval(interval);}else if(timerListData.isRunning&&timerListData.time===0){setTimerListData(_objectSpread(_objectSpread({},timerListData),{},{isRunning:false}));clearInterval(interval);alert('Timer is up!');}return function(){return clearInterval(interval);};},[timerListData.isRunning,timerListData.time]);return/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:300},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"row\"},children:/*#__PURE__*/_jsx(\"p\",{children:\"Timer\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timer-display\",children:timerListData.isRunning?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",fontWeight:\"bold\",fontSize:20},children:tidyTime(timerListData.time)}):/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"text-input\",value:timerListData.time,onChange:function onChange(e){setTimerListData(_objectSpread(_objectSpread({},timerListData),{},{time:e.target.value}));}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer-controls\",style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{background:\"none\",border:\"none\",color:\"white\",fontSize:\"15px\",cursor:\"pointer\"},onClick:function onClick(){setTimerListData(_objectSpread(_objectSpread({},timerListData),{},{isRunning:!timerListData.isRunning}));},children:timerListData.isRunning?'Stop':'Start'}),/*#__PURE__*/_jsx(\"button\",{style:{background:\"none\",border:\"none\",color:\"white\",fontSize:\"15px\",cursor:\"pointer\"},onClick:function onClick(){setTimerListData(_objectSpread(_objectSpread({},timerListData),{},{time:0}));},children:\"Reset\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TimerWidget","_useState","time","isRunning","_useState2","_slicedToArray","timerListData","setTimerListData","tidyTime","hours","Math","floor","minutes","seconds","interval","setInterval","_objectSpread","parseInt","clearInterval","alert","style","minWidth","children","display","justifyContent","alignItems","className","textAlign","fontWeight","fontSize","type","value","onChange","e","target","background","border","color","cursor","onClick"],"sources":["/home/papa/planner-app/src/widgets/TimerWidget.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\n \nexport default function TimerWidget() {\n  const [timerListData, setTimerListData] = useState({\n    time: 0,\n    isRunning: false,\n  })\n \n  const tidyTime = (time) => {\n    let hours = Math.floor(time / 3600)\n    let minutes = Math.floor((time - (hours * 3600)) / 60)\n    let seconds = time - (hours * 3600) - (minutes * 60)\n \n    if (hours < 10) { hours = \"0\" + hours }\n    if (minutes < 10) { minutes = \"0\" + minutes }\n    if (seconds < 10) { seconds = \"0\" + seconds }\n \n    return hours + ':' + minutes + ':' + seconds\n  }\n \n  useEffect(() => {\n    // timer logic\n    let interval = null\n    if (timerListData.isRunning && timerListData.time > 0) {\n      interval = setInterval(() => {\n        setTimerListData({\n          ...timerListData,\n          time: parseInt(timerListData.time) - 1,\n        })\n      }, 1000)\n    } else if (!timerListData.isRunning && timerListData.time !== 0) {\n      setTimerListData({\n        ...timerListData,\n        isRunning: false,\n      })\n      clearInterval(interval)\n    } else if (timerListData.isRunning && timerListData.time === 0) {\n      setTimerListData({\n        ...timerListData,\n        isRunning: false,\n      })\n      clearInterval(interval)\n      alert('Timer is up!')\n    }\n \n      return () => clearInterval(interval)\n  }, [timerListData.isRunning, timerListData.time])\n \n  return (\n    <div style={{ minWidth: 300 }}>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"row\" }}>\n        <p>Timer</p>\n      </div>\n      <div className='timer-container'>\n        <div className='timer-display'>\n          {timerListData.isRunning ?\n            <p style={{ textAlign: \"center\", fontWeight: \"bold\", fontSize: 20 }}>{tidyTime(timerListData.time)}</p>\n            :\n            <input type=\"text\" className='text-input' value={timerListData.time} onChange={(e) => {\n              setTimerListData({\n                ...timerListData,\n                time: e.target.value,\n              })\n            }} />\n          }\n        </div>\n        <div className='timer-controls' style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", }}>\n          <button\n            style={{\n              background: \"none\",\n              border: \"none\",\n              color: \"white\",\n              fontSize: \"15px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => {\n              setTimerListData({\n                ...timerListData,\n                isRunning: !timerListData.isRunning,\n              })\n            }}\n          >{timerListData.isRunning ? 'Stop' : 'Start'}</button>\n          <button\n            style={{\n              background: \"none\",\n              border: \"none\",\n              color: \"white\",\n              fontSize: \"15px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => {\n              setTimerListData({\n                ...timerListData,\n                time: 0,\n              })\n            }}\n          >Reset</button>\n        </div>\n      </div>\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}